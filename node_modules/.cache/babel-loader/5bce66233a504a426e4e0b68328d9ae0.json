{"ast":null,"code":"import _objectSpread from\"/Users/Mihail/Desktop/dev/todoReactTS/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/Mihail/Desktop/dev/todoReactTS/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/Mihail/Desktop/dev/todoReactTS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{todoContext}from'./todoContext';import{jsx as _jsx}from\"react/jsx-runtime\";var DEFAULT_TODO_LIST=[{id:1,name:'task 1',description:'description 1',checked:false},{id:2,name:'task 2',description:'description 2',checked:false},{id:3,name:'task 3',description:'description descriptiondescriptiondescriptiondescription 3',checked:true}];export var TodoProvider=function TodoProvider(_ref){var children=_ref.children;var _React$useState=React.useState(DEFAULT_TODO_LIST),_React$useState2=_slicedToArray(_React$useState,2),todos=_React$useState2[0],setTodos=_React$useState2[1];// const [todos, setTodos] = React.useState(() => {\n//   // get the todos from localstorage\n//   const savedTodos = localStorage.getItem(\"todos\");\n//   // if there are todos stored\n//   if (savedTodos) {\n//     // return the parsed JSON object back to a javascript object\n//     return JSON.parse(savedTodos);\n//     // otherwise\n//   } else {\n//     // return an empty array\n//     return [];\n//   }\n// });\nvar _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),todoIdEdit=_React$useState4[0],setTodoIdEdit=_React$useState4[1];// React.useEffect(() => {\n//   const todos = JSON.parse(localStorage.getItem('todos') || '{}');\n//   if (todos) {\n//     setTodos(todos);\n//   }\n// }, []);\n// React.useEffect(() => {\n//   localStorage.setItem('todos', JSON.stringify(todos));\n// }, [todos]);\nvar selectTodoForEdit=function selectTodoForEdit(id){setTodoIdEdit(id);};var addTodo=function addTodo(_ref2){var name=_ref2.name,description=_ref2.description;setTodos([].concat(_toConsumableArray(todos),[{id:todos[todos.length-1].id+1,description:description,name:name,checked:false}]));};var checkTodo=function checkTodo(id){setTodos(todos.map(function(todo){if(todo.id===id){return _objectSpread(_objectSpread({},todo),{},{checked:!todo.checked});}return todo;}));};var deleteTodo=function deleteTodo(id){setTodos(todos.filter(function(todo){return todo.id!==id;}));};var changeTodo=function changeTodo(_ref3){var name=_ref3.name,description=_ref3.description;setTodos(todos.map(function(todo){if(todo.id===todoIdEdit){return _objectSpread(_objectSpread({},todo),{},{name:name,description:description});}return todo;}));setTodoIdEdit(null);};var value=React.useMemo(function(){return{todoIdEdit:todoIdEdit,todos:todos,deleteTodo:deleteTodo,changeTodo:changeTodo,addTodo:addTodo,selectTodoForEdit:selectTodoForEdit,checkTodo:checkTodo};},[todoIdEdit,todos,deleteTodo,changeTodo,addTodo,selectTodoForEdit,checkTodo]);return/*#__PURE__*/_jsx(todoContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","todoContext","DEFAULT_TODO_LIST","id","name","description","checked","TodoProvider","children","useState","todos","setTodos","todoIdEdit","setTodoIdEdit","selectTodoForEdit","addTodo","length","checkTodo","map","todo","deleteTodo","filter","changeTodo","value","useMemo"],"sources":["/Users/Mihail/Desktop/dev/todoReactTS/src/utils/contexts/todoProvider.tsx"],"sourcesContent":["import React from 'react';\nimport ts from 'typescript';\nimport { todoContext } from './todoContext';\ntype Todo = {\n  id: number;\n  name: string;\n  description: string;\n  checked: boolean;\n};\ninterface TodoProviderProps {\n  children: React.ReactNode;\n}\nconst DEFAULT_TODO_LIST = [\n  { id: 1, name: 'task 1', description: 'description 1', checked: false },\n  { id: 2, name: 'task 2', description: 'description 2', checked: false },\n  {\n    id: 3,\n    name: 'task 3',\n    description: 'description descriptiondescriptiondescriptiondescription 3',\n    checked: true,\n  },\n];\nexport const TodoProvider: React.FC<TodoProviderProps> = ({ children }) => {\n  const [todos, setTodos] = React.useState(DEFAULT_TODO_LIST);\n  // const [todos, setTodos] = React.useState(() => {\n  //   // get the todos from localstorage\n  //   const savedTodos = localStorage.getItem(\"todos\");\n  //   // if there are todos stored\n  //   if (savedTodos) {\n  //     // return the parsed JSON object back to a javascript object\n  //     return JSON.parse(savedTodos);\n  //     // otherwise\n  //   } else {\n  //     // return an empty array\n  //     return [];\n  //   }\n  // });\n  const [todoIdEdit, setTodoIdEdit] = React.useState<Todo['id'] | null>(null);\n  // React.useEffect(() => {\n  //   const todos = JSON.parse(localStorage.getItem('todos') || '{}');\n  //   if (todos) {\n  //     setTodos(todos);\n  //   }\n  // }, []);\n\n  // React.useEffect(() => {\n  //   localStorage.setItem('todos', JSON.stringify(todos));\n  // }, [todos]);\n\n  const selectTodoForEdit = (id: Todo['id']) => {\n    setTodoIdEdit(id);\n  };\n  const addTodo = ({ name, description }: Omit<Todo, 'checked' | 'id'>) => {\n    setTodos([\n      ...todos,\n      { id: todos[todos.length - 1].id + 1, description, name, checked: false },\n    ]);\n  };\n  const checkTodo = (id: Todo['id']) => {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === id) {\n          return { ...todo, checked: !todo.checked };\n        }\n        return todo;\n      })\n    );\n  };\n  const deleteTodo = (id: Todo['id']) => {\n    setTodos(todos.filter((todo) => todo.id !== id));\n  };\n  const changeTodo = ({ name, description }: Omit<Todo, 'checked' | 'id'>) => {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === todoIdEdit) {\n          return { ...todo, name, description };\n        }\n        return todo;\n      })\n    );\n    setTodoIdEdit(null);\n  };\n  const value = React.useMemo(\n    () => ({\n      todoIdEdit,\n      todos,\n      deleteTodo,\n      changeTodo,\n      addTodo,\n      selectTodoForEdit,\n      checkTodo,\n    }),\n    [\n      todoIdEdit,\n      todos,\n      deleteTodo,\n      changeTodo,\n      addTodo,\n      selectTodoForEdit,\n      checkTodo,\n    ]\n  );\n  return <todoContext.Provider value={value}>{children}</todoContext.Provider>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}